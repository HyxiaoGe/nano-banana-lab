# Nano Banana Lab ğŸŒ

[English](README.md) | [ä¸­æ–‡](README.zh-CN.md)

---

åŸºäº Google Gemini 3 Pro Image (Nano Banana Pro) çš„ AI å›¾åƒç”Ÿæˆå­¦ä¹ å®éªŒé¡¹ç›®ã€‚

## åŠŸèƒ½å®éªŒæ¸…å•

| åºå· | å®éªŒ | æ–‡ä»¶ | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|------|------|
| 01 | åŸºç¡€ç”Ÿæˆ | `experiments/01_basic.py` | æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆï¼Œæ”¯æŒè‡ªå®šä¹‰å®½é«˜æ¯” | âœ… |
| 02 | æ€è€ƒè¿‡ç¨‹ | `experiments/02_thinking.py` | å¯è§†åŒ–æ¨¡å‹ç”Ÿæˆå›¾åƒå‰çš„æ¨ç†è¿‡ç¨‹ | âœ… |
| 03 | æœç´¢è½åœ° | `experiments/03_search.py` | å°†å®æ—¶ Google æœç´¢æ•°æ®èå…¥å›¾åƒç”Ÿæˆ | âœ… |
| 04 | 4K ç”Ÿæˆ | `experiments/04_4k.py` | è¶…é«˜åˆ†è¾¨ç‡å›¾åƒç”Ÿæˆï¼ˆæœ€é«˜ 4096x4096ï¼‰ | âœ… |
| 05 | å¤šè¯­è¨€ | `experiments/05_multilang.py` | å¤šè½®å¯¹è¯å®ç°è·¨è¯­è¨€å›¾åƒç¿»è¯‘ | âœ… |
| 06 | å›¾åƒæ··åˆ | `experiments/06_blend.py` | å¤šå›¾èåˆä¸é£æ ¼è¿ç§» | âœ… |

## Streamlit Web ç•Œé¢

åŠŸèƒ½å®Œå–„çš„ Web äº¤äº’ç•Œé¢ã€‚

```bash
# è¿è¡Œ Web ç•Œé¢
streamlit run app.py
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- ğŸŒ **å›½é™…åŒ– (i18n)** - æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
- ğŸ”‘ **API Key ç®¡ç†** - æ”¯æŒç¯å¢ƒå˜é‡æˆ–åœ¨é¡µé¢è¾“å…¥è‡ªå·±çš„å¯†é’¥
- ğŸ¨ **å¤šç§ç”Ÿæˆæ¨¡å¼ï¼š**
  - åŸºç¡€ç”Ÿæˆ - ç®€å•æ–‡æœ¬ç”Ÿå›¾
  - å¯¹è¯å¾®è°ƒ - é€šè¿‡å¯¹è¯è¿­ä»£ä¼˜åŒ–å›¾åƒ
  - æ‰¹é‡ç”Ÿæˆ - ç”Ÿæˆå¤šä¸ªå˜ä½“ï¼Œå¸¦è¿›åº¦æ˜¾ç¤º
  - é£æ ¼è¿ç§» - åœ¨å›¾åƒä¹‹é—´åº”ç”¨è‰ºæœ¯é£æ ¼
  - æœç´¢å¢å¼º - ä½¿ç”¨å®æ—¶æœç´¢æ•°æ®ç”Ÿæˆå›¾åƒ
  - æ¨¡æ¿åº“ - ä»ç²¾é€‰æç¤ºè¯æ¨¡æ¿å¼€å§‹
- ğŸ“Š **æˆæœ¬ä¼°ç®—** - æ‰¹é‡ç”Ÿæˆå‰æŸ¥çœ‹é¢„ä¼°è´¹ç”¨
- ğŸ“¦ **ZIP ä¸‹è½½** - ä¸€é”®æ‰“åŒ…ä¸‹è½½æ‰€æœ‰æ‰¹é‡å›¾åƒ
- ğŸ“œ **å†å²è®°å½•** - æŸ¥çœ‹å’Œä¸‹è½½ä¹‹å‰ç”Ÿæˆçš„å›¾åƒ


## åŠŸèƒ½è¯¦è§£

### 01_basic.py - åŸºç¡€å›¾åƒç”Ÿæˆ
```python
generate_basic_image(prompt, aspect_ratio="16:9")
```
- æ ¹æ®æ–‡æœ¬æç¤ºç”Ÿæˆå›¾åƒ
- æ”¯æŒå¤šç§å®½é«˜æ¯”ï¼š`16:9`ã€`1:1`ã€`9:16` ç­‰
- è¾“å‡ºï¼š`outputs/01_basic.png`

### 02_thinking.py - æ€è€ƒè¿‡ç¨‹å¯è§†åŒ–
```python
generate_with_thinking(prompt, aspect_ratio="16:9")
```
- ä½¿ç”¨ `ThinkingConfig(include_thoughts=True)` å¯ç”¨æ€è€ƒåŠŸèƒ½
- å±•ç¤ºæ¨¡å‹åœ¨ç”Ÿæˆå›¾åƒå‰çš„æ¨ç†è¿‡ç¨‹
- è¾“å‡ºï¼š`outputs/02_thinking.png`

### 03_search.py - æœç´¢è½åœ°
```python
generate_with_search(prompt, aspect_ratio="16:9")
```
- ä½¿ç”¨ `tools=[{"google_search": {}}]` é›†æˆå®æ—¶ Google æœç´¢æ•°æ®
- ç”ŸæˆåŒ…å«æœ€æ–°ä¿¡æ¯çš„å›¾åƒï¼ˆå¤©æ°”ã€æ–°é—»ç­‰ï¼‰
- è¾“å‡ºï¼š`outputs/03_search.png`

### 04_4k.py - 4K è¶…é«˜æ¸…ç”Ÿæˆ
```python
generate_4k_image(prompt, resolution="4K", aspect_ratio="16:9")
```
- æ”¯æŒå¤šç§åˆ†è¾¨ç‡ï¼š`1K`ã€`2K`ã€`4K`
- 4K ç”Ÿæˆ 4096x4096 å›¾åƒ
- è¾“å‡ºï¼š`outputs/04_4K.png`

### 05_multilang.py - å¤šè¯­è¨€èƒ½åŠ›
```python
generate_multilingual_image(prompt, aspect_ratio="16:9", filename="05_multilang.png")
chat_and_translate()
```
- å¤šè½®å¯¹è¯æ¨¡å¼å®ç°å›¾åƒç¿»è¯‘
- ä¿æŒè·¨è¯­è¨€çš„è§†è§‰ä¸€è‡´æ€§
- è¾“å‡ºï¼š`outputs/05_multilang_en.png`ã€`outputs/05_multilang_zh.png`

### 06_blend.py - é«˜çº§å›¾åƒæ··åˆ
```python
blend_images(prompt, image_paths, aspect_ratio="16:9")
demo_style_transfer()
```
- æœ€å¤šå¯æ··åˆ 14 å¼ å›¾åƒï¼ˆPro æ¨¡å‹ï¼‰
- é£æ ¼è¿ç§»åŠŸèƒ½
- è¾“å‡ºï¼š`outputs/06_base_photo.png`ã€`outputs/06_style_ref.png`ã€`outputs/06_blend.png`

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½® API Key

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Key
# è·å–åœ°å€: https://aistudio.google.com/app/apikey
```

### 3. è¿è¡Œå®éªŒ

```bash
# è¿è¡ŒåŸºç¡€ç”Ÿæˆå®éªŒ
python experiments/01_basic.py

# ç”Ÿæˆçš„å›¾ç‰‡ä¼šä¿å­˜åœ¨ outputs/ ç›®å½•
```

## æ•ˆæœå±•ç¤º

### 01 - åŸºç¡€ç”Ÿæˆ
![åŸºç¡€ç”Ÿæˆ](outputs/01_basic.png)
*æ²™æ»©ä¸Šæˆ´å¢¨é•œçš„å¯çˆ±æŸ¯åŸº - ç…§ç‰‡çº§çœŸå®é£æ ¼*

### 02 - æ€è€ƒè¿‡ç¨‹
![æ€è€ƒè¿‡ç¨‹](outputs/02_thinking.png)
*å¸¦æœ‰å¯è§ AI æ¨ç†è¿‡ç¨‹ç”Ÿæˆçš„ç—…æ¯’å¼ä¼ æ’­å›¾åƒ - ä¸€åªåœ¨åŠå…¬æ¡Œå‰å·¥ä½œçš„ç‹—*

### 03 - æœç´¢è½åœ°
![æœç´¢è½åœ°](outputs/03_search.png)
*å¹¿ä¸œçœå®æ—¶å¤©æ°”é¢„æŠ¥ - 5å¤©é¢„æŠ¥å¯è§†åŒ–*

### 04 - 4K è¶…é«˜æ¸…
![4Kç”Ÿæˆ](outputs/04_4K.png)
*æ©¡æ ‘çš„å››å­£å˜åŒ– - 4096x4096 è¶…é«˜åˆ†è¾¨ç‡å›¾åƒ*

### 05 - å¤šè¯­è¨€ï¼ˆè‹±æ–‡ï¼‰
![å¤šè¯­è¨€è‹±æ–‡](outputs/05_multilang_en.png)
*å’–å•¡ä¹‹æ—…ä¿¡æ¯å›¾ - è‹±æ–‡ç‰ˆ*

### 05 - å¤šè¯­è¨€ï¼ˆä¸­æ–‡ï¼‰
![å¤šè¯­è¨€ä¸­æ–‡](outputs/05_multilang_zh.png)
*å’–å•¡ä¹‹æ—…ä¿¡æ¯å›¾ - ä¸­æ–‡ç‰ˆï¼ˆç›¸åŒå¸ƒå±€ï¼Œç¿»è¯‘å†…å®¹ï¼‰*

### 06 - å›¾åƒæ··åˆ

| åŸºç¡€ç…§ç‰‡ | é£æ ¼å‚è€ƒ | æ··åˆç»“æœ |
|----------|----------|----------|
| ![åŸºç¡€](outputs/06_base_photo.png) | ![é£æ ¼](outputs/06_style_ref.png) | ![æ··åˆ](outputs/06_blend.png) |
| *çª—å°ä¸Šçš„çŒ«* | *æŠ½è±¡æ°´å½©ç”»* | *æ°´å½©é£æ ¼çš„çŒ«* |


## é¡¹ç›®ç»“æ„

```
nano-banana-lab/
â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .env                # ä½ çš„ API Keyï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰
â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”œâ”€â”€ config.py           # å®¢æˆ·ç«¯åˆå§‹åŒ–ä¸è®¡æ—¶ç»Ÿè®¡
â”œâ”€â”€ app.py              # Streamlit Web ç•Œé¢å…¥å£
â”œâ”€â”€ components/         # UI ç»„ä»¶
â”‚   â”œâ”€â”€ sidebar.py      # è®¾ç½®ä¸ API Key ç®¡ç†
â”‚   â”œâ”€â”€ basic.py        # åŸºç¡€ç”Ÿæˆæ¨¡å¼
â”‚   â”œâ”€â”€ chat.py         # å¯¹è¯å¾®è°ƒæ¨¡å¼
â”‚   â”œâ”€â”€ batch.py        # æ‰¹é‡ç”Ÿæˆæ¨¡å¼
â”‚   â”œâ”€â”€ blend.py        # é£æ ¼è¿ç§»æ¨¡å¼
â”‚   â”œâ”€â”€ search.py       # æœç´¢å¢å¼ºæ¨¡å¼
â”‚   â”œâ”€â”€ templates.py    # æç¤ºè¯æ¨¡æ¿æ¨¡å¼
â”‚   â””â”€â”€ history.py      # ç”Ÿæˆå†å²
â”œâ”€â”€ services/           # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ generator.py    # å¼‚æ­¥å›¾åƒç”Ÿæˆå™¨
â”‚   â””â”€â”€ chat_session.py # èŠå¤©ä¼šè¯ç®¡ç†å™¨
â”œâ”€â”€ i18n/               # å›½é™…åŒ–
â”‚   â”œâ”€â”€ en.json         # è‹±æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ zh.json         # ä¸­æ–‡ç¿»è¯‘
â”œâ”€â”€ experiments/        # å®éªŒè„šæœ¬
â”‚   â”œâ”€â”€ 01_basic.py     # åŸºç¡€æ–‡æœ¬ç”Ÿå›¾
â”‚   â”œâ”€â”€ 02_thinking.py  # æ€è€ƒè¿‡ç¨‹å¯è§†åŒ–
â”‚   â”œâ”€â”€ 03_search.py    # æœç´¢è½åœ°ç”Ÿæˆ
â”‚   â”œâ”€â”€ 04_4k.py        # é«˜åˆ†è¾¨ç‡ç”Ÿæˆ
â”‚   â”œâ”€â”€ 05_multilang.py # å¤šè¯­è¨€æ”¯æŒ
â”‚   â””â”€â”€ 06_blend.py     # å›¾åƒæ··åˆä¸é£æ ¼è¿ç§»
â”œâ”€â”€ outputs/            # ç”Ÿæˆçš„å›¾ç‰‡
â”œâ”€â”€ Dockerfile          # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml  # Docker Compose é…ç½®
â””â”€â”€ README.md
```

## è´¹ç”¨å‚è€ƒ

| åˆ†è¾¨ç‡ | æ¯å¼ ä»·æ ¼ | å¤‡æ³¨ |
|--------|----------|------|
| 1K / 2K | $0.134 | æ ‡å‡†è´¨é‡ |
| 4K | $0.24 | å°åˆ·çº§è´¨é‡ |
| Batch API | -50% | æ‰¹é‡ç”Ÿæˆæ—¶ä½¿ç”¨ |

## å‚è€ƒèµ„æ–™

- [å®˜æ–¹æ–‡æ¡£](https://ai.google.dev/gemini-api/docs)
- [Google AI Studio](https://aistudio.google.com)
- [å®šä»·é¡µé¢](https://ai.google.dev/pricing)
